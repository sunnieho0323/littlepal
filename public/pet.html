<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>LittlePal ‚Äì Pet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <!-- Materialize + Icons (same as index.html) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <link rel="stylesheet" href="/css/app.css"/>

  <style>
    .room-card { border-radius: 16px; padding: 24px; background: #fff; }
    .pet-hero  { display:flex; flex-direction:column; align-items:center; gap:.5rem; }
    .heart     { font-size:28px; line-height:1 }
    .pulse     { animation:pulse .6s ease }
    @keyframes pulse { 0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)} }
    .chip.is-happy   { background:#ffe2e2; }
    .chip.is-neutral { background:#ffe9d6; }
    .chip.is-sad     { background:#e9ecf1; }
    .stat-label { display:flex; align-items:center; gap:.5rem; margin:.25rem 0; color:#546e7a }
    .progress { height: 12px; border-radius: 8px; overflow: hidden; }
    .progress .determinate { border-radius: 8px; }
    .btn-row { display:flex; gap:.75rem; flex-wrap:wrap; }
    .back-link { display:inline-flex; align-items:center; gap:.25rem; color:#00897b; }
    .pet-anim { display:inline-block; transform-origin:center; }
    .shake { animation: shake .35s ease; }
    @keyframes shake {
      0%{transform:translateX(0)}
      25%{transform:translateX(-4px)}
      50%{transform:translateX(4px)}
      75%{transform:translateX(-2px)}
      100%{transform:translateX(0)}
    }
    .pop { animation: pop .35s ease; }
    @keyframes pop { 0%{transform:scale(.9)} 60%{transform:scale(1.12)} 100%{transform:scale(1)} }

    .float-emoji {
      position: absolute; pointer-events:none; opacity:0;
      animation: floatUp .8s ease forwards;
    }
    @keyframes floatUp {
      0% { transform:translateY(0); opacity:.0 }
      10%{ opacity:1 }
      100% { transform:translateY(-40px); opacity:0 }
    }

    .actions-wrap { display:flex; gap:.75rem; flex-wrap:wrap; align-items:center }
    .invite-wrap { margin-top:14px; display:flex; gap:.5rem; align-items:center; flex-wrap:wrap }
    .code-input { max-width:320px }
  </style>
</head>
<body class="littlepal-room">

  <!-- Top bar reused from index is served globally; this page focuses on the card -->

  <main class="container" style="margin-top: 32px;">
    <a href="/" class="back-link"><i class="material-icons">arrow_back</i> Back to Dashboard</a>

    <div class="room-card z-depth-1">
      <div class="pet-hero">
        <h4 class="center" style="margin:0 0 8px">üêæ Your Pet</h4>

        <div class="chips">
          <div id="petName" class="chip">Loading‚Ä¶</div>
          <div id="emotionChip" class="chip is-neutral">
            <i class="material-icons left" style="margin-right:4px">mood</i>
            <span id="emotionLabel">neutral</span>
          </div>
          <div id="heart" class="chip red-text text-darken-2 white">‚ù§</div>
        </div>
      </div>

      <!-- Stats -->
      <div style="margin-top:16px">
        <div class="stat">
          <div class="stat-label"><i class="material-icons">tag_faces</i> Mood</div>
          <div class="progress grey lighten-3">
            <div id="moodFill" class="determinate teal" style="width:50%"></div>
          </div>
        </div>

        <div class="stat">
          <div class="stat-label"><i class="material-icons">fastfood</i> Hunger</div>
          <div class="progress grey lighten-3">
            <div id="hungerFill" class="determinate orange" style="width:50%"></div>
          </div>
        </div>

        <div class="stat">
          <div class="stat-label"><i class="material-icons">opacity</i> Thirst</div>
          <div class="progress grey lighten-3">
            <div id="thirstFill" class="determinate light-blue" style="width:50%"></div>
          </div>
        </div>
      </div>

      <!-- Actions -->
<div class="actions-wrap" style="margin-top:16px; position:relative;">
  <a id="feedBtn"  class="btn-large waves-effect waves-light teal">
    <i class="material-icons left">restaurant</i> Feed
  </a>
  <a id="drinkBtn" class="btn-large waves-effect waves-light light-blue">
    <i class="material-icons left">local_drink</i> Drink
  </a>
  <a id="playBtn"  class="btn-large waves-effect waves-light amber darken-2">
    <i class="material-icons left">sports_esports</i> Play
  </a>

  <!-- floating emojis land here -->
  <div id="fxLayer" style="position:absolute; left:0; right:0; height:0;"></div>
</div>

<!-- Friends: share link / enter friend pet -->
<div class="invite-wrap">
  <a id="inviteBtn" class="btn waves-effect white teal-text text-darken-2">
    <i class="material-icons left">share</i> Invite a friend
  </a>

  <div class="input-field code-input" style="margin:0;">
    <input id="friendPetId" type="text" placeholder="Friend's petId (paste here)"/>
  </div>
  <a id="joinFriendBtn" class="btn waves-effect teal">
    <i class="material-icons left">login</i> Enter friend‚Äôs room
  </a>
</div>


  <!-- Scripts -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="/js/pet/pet.api.js"></script>
  <script src="/js/pet/pet.page.js"></script>
</body>
</html>
